{"version":3,"sources":["webpack:///./src/views/login/signUp.vue?a905","webpack:///./src/api/public.js","webpack:///src/views/login/signUp.vue","webpack:///./src/views/login/signUp.vue?2381","webpack:///./src/views/login/signUp.vue","webpack:///./src/views/login/signUp.vue?2c40","webpack:///./src/styles/variables.scss"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","variables","black","on","onSubmit","required","message","model","value","form","callback","$$v","$set","expression","scopedSlots","_u","key","fn","staticStyle","domProps","_s","captchaSvg","getCaptcha","proxy","loading","_v","staticRenderFns","params","request","url","method","name","data","password","confirmPwd","captcha","computed","mounted","methods","$toast","fail","component","module","exports"],"mappings":"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","file":"static/js/chunk-bf05ac18.db20ba2f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signup\"},[_c('nav-bar',{attrs:{\"title\":\"用户注册\"}},[_c('van-icon',{attrs:{\"color\":_vm.variables.black,\"size\":\"18\"}})],1),_c('van-form',{staticClass:\"form\",attrs:{\"validate-trigger\":\"onSubmit\",\"show-error\":false},on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"type\":\"text\",\"required\":\"\",\"clearable\":\"\",\"name\":\"注册名\",\"label\":\"注册名\",\"placeholder\":\"请输入用户名\",\"rules\":[\n        {\n          required: true,\n          message: '请输入用户名!',\n        } ]},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"required\":\"\",\"clearable\":\"\",\"name\":\"设置密码\",\"label\":\"设置密码\",\"placeholder\":\"请设置密码\",\"rules\":[{ required: true, message: '请设置密码!' }]},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"required\":\"\",\"clearable\":\"\",\"name\":\"确认密码\",\"label\":\"确认密码\",\"placeholder\":\"请再次输入密码确认\",\"rules\":[{ required: true, message: '请再次输入密码确认!' }]},model:{value:(_vm.form.confirmPwd),callback:function ($$v) {_vm.$set(_vm.form, \"confirmPwd\", $$v)},expression:\"form.confirmPwd\"}}),_c('van-field',{attrs:{\"type\":\"text\",\"required\":\"\",\"center\":\"\",\"clearable\":\"\",\"name\":\"图形验证码\",\"maxlength\":\"4\",\"label\":\"图形验证码\",\"placeholder\":\"请输入图形验证码\",\"rules\":[{ required: true, message: '请输入正确的图形验证码!' }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('div',{staticStyle:{\"background\":\"#eee\",\"height\":\"34px\",\"width\":\"100px\"},domProps:{\"innerHTML\":_vm._s(_vm.captchaSvg)},on:{\"click\":_vm.getCaptcha}})]},proxy:true}]),model:{value:(_vm.form.captcha),callback:function ($$v) {_vm.$set(_vm.form, \"captcha\", $$v)},expression:\"form.captcha\"}}),_c('div',{staticStyle:{\"margin\":\"36px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"loading\":_vm.loading,\"type\":\"info\",\"loading-text\":\"登录中...\",\"native-type\":\"submit\"}},[_vm._v(\"注册\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from \"@/utils/request\";\n\nexport function getCaptcha(params) {\n  return request({\n    url: \"/public/captcha\",\n    method: \"get\",\n    params,\n  });\n}\n\nexport function getMailCode(data) {\n  return request({\n    url: \"/public/mail\",\n    method: \"post\",\n    data,\n  });\n}\n","<template>\n  <div class=\"signup\">\n    <nav-bar title=\"用户注册\">\n      <van-icon :color=\"variables.black\" size=\"18\" />\n    </nav-bar>\n\n    <van-form\n      class=\"form\"\n      validate-trigger=\"onSubmit\"\n      :show-error=\"false\"\n      @submit=\"onSubmit\"\n    >\n      <van-field\n        v-model=\"form.email\"\n        type=\"text\"\n        required\n        clearable\n        name=\"注册名\"\n        label=\"注册名\"\n        placeholder=\"请输入用户名\"\n        :rules=\"[\n          {\n            required: true,\n            message: '请输入用户名!',\n          },\n        ]\"\n      />\n\n      <van-field\n        v-model=\"form.password\"\n        type=\"password\"\n        required\n        clearable\n        name=\"设置密码\"\n        label=\"设置密码\"\n        placeholder=\"请设置密码\"\n        :rules=\"[{ required: true, message: '请设置密码!' }]\"\n      />\n\n      <van-field\n        v-model=\"form.confirmPwd\"\n        type=\"password\"\n        required\n        clearable\n        name=\"确认密码\"\n        label=\"确认密码\"\n        placeholder=\"请再次输入密码确认\"\n        :rules=\"[{ required: true, message: '请再次输入密码确认!' }]\"\n      />\n\n      <van-field\n        v-model=\"form.captcha\"\n        type=\"text\"\n        required\n        center\n        clearable\n        name=\"图形验证码\"\n        maxlength=\"4\"\n        label=\"图形验证码\"\n        placeholder=\"请输入图形验证码\"\n        :rules=\"[{ required: true, message: '请输入正确的图形验证码!' }]\"\n      >\n        <template #button>\n          <div\n            style=\"background: #eee; height: 34px; width: 100px\"\n            @click=\"getCaptcha\"\n            v-html=\"captchaSvg\"\n          />\n        </template>\n      </van-field>\n\n      <div style=\"margin: 36px\">\n        <van-button\n          round\n          block\n          :loading=\"loading\"\n          type=\"info\"\n          loading-text=\"登录中...\"\n          native-type=\"submit\"\n          >注册</van-button\n        >\n      </div>\n    </van-form>\n  </div>\n</template>\n\n<script>\nimport variables from \"@/styles/variables.scss\";\nimport { getCaptcha } from \"@/api/public\";\nimport { signup } from \"@/api/user\";\n\nexport default {\n  name: \"Regist\",\n  data() {\n    return {\n      form: {\n        password: \"\",\n        confirmPwd: \"\",\n        captcha: \"\",\n      },\n      loading: false,\n      captchaSvg: \"\",\n    };\n  },\n  computed: {\n    variables() {\n      return variables;\n    },\n  },\n  mounted() {\n    // this.getCaptcha();\n  },\n  methods: {\n    // 获取图形验证码\n    getCaptcha() {\n      getCaptcha({ sid: this.form.sid }).then((res) => {\n        this.captchaSvg = res.entry;\n      });\n    },\n    // 提交\n    onSubmit() {\n      const { password, confirmPwd } = this.form;\n      if (password !== confirmPwd) {\n        this.$toast.fail(\"确认密码与设置的不一致\");\n        return;\n      }\n      this.loading = true;\n      signup(this.form)\n        .then(() => {\n          this.$notify({\n            type: \"success\",\n            message: \"注册成功，请登录\",\n            duration: 2000,\n            onOpened: () => {\n              this.$router.back();\n            },\n          });\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form {\n  padding: 24px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signUp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./signUp.vue?vue&type=template&id=77f24470&scoped=true&\"\nimport script from \"./signUp.vue?vue&type=script&lang=js&\"\nexport * from \"./signUp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./signUp.vue?vue&type=style&index=0&id=77f24470&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77f24470\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signUp.vue?vue&type=style&index=0&id=77f24470&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"theme\":\"#1c99e2c0\",\"black\":\"#333\",\"red\":\"#ea625b\",\"green\":\"#38ca73\",\"bgGradient\":\"linear-gradient(90deg, #0af, #0085ff)\"};"],"sourceRoot":""}